{"ast":null,"code":"var _jsxFileName = \"/home/mitron/Desktop/MYMEDIRECORDS/frontend/src/Components/DashbordCompo/UploadRecord.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nconst UploadRecord = () => {\n  const [file, setFile] = useState(null);\n  const [description, setDescription] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [token, setToken] = useState(null); // State to store the JWT token\n  // Function to handle file change\n\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  }; // Function to handle description change\n\n\n  const handleDescriptionChange = e => {\n    setDescription(e.target.value);\n  }; // Function to handle upload button click\n\n\n  const handleUpload = () => {\n    if (!file || !description) {\n      swal({\n        text: 'Please provide a file and description.',\n        icon: 'warning'\n      });\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('description', description);\n    setUploading(true);\n    axios.post('http://localhost:2000/upload-record', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        'token': token // Include the JWT token in the request headers\n\n      }\n    }).then(response => {\n      setUploading(false);\n      swal({\n        text: 'File uploaded successfully!',\n        icon: 'success'\n      });\n      setFile(null);\n      setDescription('');\n    }).catch(error => {\n      var _error$response, _error$response$data;\n\n      setUploading(false);\n      swal({\n        text: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.errorMessage) || 'An error occurred',\n        icon: 'error'\n      });\n    });\n  }; // Render the component\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"Upload Record\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: handleFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Description\",\n    value: description,\n    onChange: handleDescriptionChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleUpload,\n    disabled: uploading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, uploading ? 'Uploading...' : 'Upload')));\n};\n\nexport default UploadRecord;","map":{"version":3,"sources":["/home/mitron/Desktop/MYMEDIRECORDS/frontend/src/Components/DashbordCompo/UploadRecord.js"],"names":["React","useState","axios","swal","UploadRecord","file","setFile","description","setDescription","uploading","setUploading","token","setToken","handleFileChange","e","target","files","handleDescriptionChange","value","handleUpload","text","icon","formData","FormData","append","post","headers","then","response","catch","error","data","errorMessage"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nconst UploadRecord = () => {\n  const [file, setFile] = useState(null);\n  const [description, setDescription] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [token, setToken] = useState(null); // State to store the JWT token\n\n  // Function to handle file change\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  // Function to handle description change\n  const handleDescriptionChange = (e) => {\n    setDescription(e.target.value);\n  };\n\n  // Function to handle upload button click\n  const handleUpload = () => {\n    if (!file || !description) {\n      swal({\n        text: 'Please provide a file and description.',\n        icon: 'warning',\n      });\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('description', description);\n\n    setUploading(true);\n\n    axios.post('http://localhost:2000/upload-record', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        'token': token // Include the JWT token in the request headers\n      },\n    })\n      .then((response) => {\n        setUploading(false);\n        swal({\n          text: 'File uploaded successfully!',\n          icon: 'success',\n        });\n        setFile(null);\n        setDescription('');\n      })\n      .catch((error) => {\n        setUploading(false);\n        swal({\n          text: error.response?.data?.errorMessage || 'An error occurred',\n          icon: 'error',\n        });\n      });\n  };\n\n  // Render the component\n  return (\n    <div>\n      <h1>Upload Record</h1>\n      <div>\n        <input type=\"file\" onChange={handleFileChange} />\n        <input \n          type=\"text\" \n          placeholder=\"Description\" \n          value={description} \n          onChange={handleDescriptionChange} \n        />\n        <button onClick={handleUpload} disabled={uploading}>\n          {uploading ? 'Uploading...' : 'Upload'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default UploadRecord;\n"]},"metadata":{},"sourceType":"module"}